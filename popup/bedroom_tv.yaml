action: fire-dom-event
browser_mod:
  service: browser_mod.popup
  data:
    title: Bedroom TV
    card_mod:
      style:
        #popup header
        .:
    content:
      type: vertical-stack
      cards:

        - type: entities
          state_color: true
          show_header_toggle: false
          card_mod:
            class: content
          entities:

            - entity: switch.samsung_7_series_43
              name: Samsung Series 7 (43)
              secondary_info: last-changed

            # - entity: automation.tv_on_lights

            # - type: custom:more-info-card
            #   entity: switch.samsung_7_series_43
            #   card_mod:
            #     style:
            #       # hide everything but ha-select
            #       $: |
            #         h1 {
            #           display: none !important;
            #         }
            #       .: |
            #         h1, state-card-content {
            #           display: none;
            #         }
            #         .card-content {
            #           padding: {{ is_state(config.entity, 'off') | iif('0', '1.2em 0 0.5em 0') }};
            #         }
            #       more-info-media_player$:
            #         .: |
            #           div.volume, div.controls {
            #             display: none;
            #           }
            #         ha-select$:
            #           # fix transparent menu background color
            #           mwc-menu$: |
            #             mwc-list {
            #               background: var(--card-background-color);
            #             }
        - type: custom:mushroom-entity-card
          entity: timer.bedroom_tv_sleep
          name: Sleep Timer

        - type: custom:mod-card
          card_mod:
            style:
              hui-horizontal-stack-card$: |
                #root {
                  justify-content: space-evenly !important;
                  padding: var(--tablet-popup-button-padding);
                }
          card:
            type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: switch.samsung_7_series_43
                icon: mdi:volume-mute
                tap_action:
                  action: call-service
                  service: remote.send_command
                  service_data:
                    entity_id: remote.rm_mini_3
                    device: bedroom tv
                    command: vol_mute
                template: icon_only

              - type: custom:button-card
                entity: switch.samsung_7_series_43
                icon: mdi:volume-minus
                tap_action:
                  action: call-service
                  service: remote.send_command
                  service_data:
                    entity_id: remote.rm_mini_3
                    device: bedroom tv
                    command: vol_down
                template: icon_only

              - type: custom:button-card
                entity: switch.samsung_7_series_43
                icon: mdi:volume-plus
                tap_action:
                  action: call-service
                  service: remote.send_command
                  service_data:
                    entity_id: remote.rm_mini_3
                    device: bedroom tv
                    command: vol_up
                template: icon_only
